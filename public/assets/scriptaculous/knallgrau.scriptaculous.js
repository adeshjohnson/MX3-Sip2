function ClientCookie(){document.cookie.length&&(this.cookies=" "+document.cookie)}Element.BLOCK_LEVEL=["address","blockquote","center","dl","dir","div","fieldset","form","h1-6","hr","isindex","menu","noframes","noscript","ol","p","pre","table","ul","center","dir","menu","noframes","isindex"],Element.isBlockLevel=function(e){return e.isBlockLevel="block"==Element.getStyle(e,"display")||1==e.isBlockLevel||-1!=Element.BLOCK_LEVEL.indexOf(e.nodeName.toLowerCase())},Element.show=function(){for(var e=0;e<arguments.length;e++){var t=$(arguments[e]);t.style.display=Element.isBlockLevel(t)?"block":""}},Element.getDimensions=function(e){if(e=$(e),"none"!=Element.getStyle(e,"display"))return{width:e.offsetWidth,height:e.offsetHeight};var t=e.style,i=t.visibility,n=t.position;t.visibility="hidden",t.position="absolute",t.display=Element.isBlockLevel(e)?"block":"";var o=e.clientWidth,l=e.clientHeight;return t.display="none",t.position=n,t.visibility=i,{width:o,height:l}},Position.getVisibleWidth=function(){return window.opera?document.body.clientWidth||document.documentElement.clientWidth||window.innerWidth:document.documentElement.clientWidth||window.innerWidth||document.body.clientWidth},Position.getVisibleHeight=function(){return window.opera?document.body.clientHeight||document.documentElement.clientHeight||window.innerHeight:document.documentElement.clientHeight||window.innerHeight||document.body.clientHeight},Ajax.InPlaceEditor.prototype.convertHTMLLineBreaks=function(e){return e=e.replace(/<br>\n/gi,"\n"),e=e.replace(/<br>/gi,"\n").replace(/<br\/>/gi,"\n").replace(/<\/p>/gi,"\n").replace(/<p>/gi,"")},ClientCookie.prototype={setValue:function(e,t){document.cookie=e+"="+escape(t)},getValue:function(e){if(this.cookies){var t=this.cookies.indexOf(" "+e+"=");if(-1==t)return null;var i=this.cookies.indexOf(";",t);-1==i&&(i=this.cookies.length),i-=t;var n=this.cookies.substr(t,i);return unescape(n.substr(n.indexOf("=")+1,n.length-n.indexOf("=")+1))}return null}};var Cookie=new ClientCookie;Ajax.InPlaceEditor.prototype.__initialize=Ajax.InPlaceEditor.prototype.initialize,Ajax.InPlaceEditor.prototype.__getText=Ajax.InPlaceEditor.prototype.getText,Ajax.InPlaceEditor.prototype.__onComplete=Ajax.InPlaceEditor.prototype.onComplete,Ajax.InPlaceEditor.prototype=Object.extend(Ajax.InPlaceEditor.prototype,{initialize:function(e,t,i){this.__initialize(e,t,i),this.setOptions(i),this._checkEmpty()},setOptions:function(e){this.options=Object.extend(Object.extend(this.options,{emptyText:"click to edit...",emptyClassName:"inplaceeditor-empty"}),e||{})},_checkEmpty:function(){0==this.element.innerHTML.length&&this.element.appendChild(Builder.node("span",{className:this.options.emptyClassName},this.options.emptyText))},getText:function(){return document.getElementsByClassName(this.options.emptyClassName,this.element).each(function(e){this.element.removeChild(e)}.bind(this)),this.__getText()},onComplete:function(e){this._checkEmpty(),this.__onComplete(e)}});